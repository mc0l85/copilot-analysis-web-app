"use strict";(()=>{var e={};e.id=67,e.ids=[67],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},629:e=>{e.exports=require("fs/promises")},5315:e=>{e.exports=require("path")},8349:(e,t,a)=>{a.r(t),a.d(t,{originalPathname:()=>p,patchFetch:()=>y,requestAsyncStorage:()=>h,routeModule:()=>d,serverHooks:()=>u,staticGenerationAsyncStorage:()=>m});var o={};a.r(o),a.d(o,{GET:()=>c});var r=a(9303),s=a(8716),n=a(670),i=a(7070),l=a(9460);async function c(e){try{let e=Array.from(l.t.keys()),t={};for(let a of e){let e=await l.t.get(a);t[a]={hasResults:!!e,hasDetailedUsers:!!e?.detailed_users,detailedUsersCount:e?.detailed_users?.length||0,summary:e?.summary,keys:e?Object.keys(e):[]}}return i.NextResponse.json({totalSessions:e.length,sessions:e,sessionData:t})}catch(e){return console.error("Debug API error:",e),i.NextResponse.json({error:"Failed to get debug data"},{status:500})}}let d=new r.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/debug/route",pathname:"/api/debug",filename:"route",bundlePath:"app/api/debug/route"},resolvedPagePath:"/home/ubuntu/copilot-analysis-web-app/app/app/api/debug/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:h,staticGenerationAsyncStorage:m,serverHooks:u}=d,p="/api/debug/route";function y(){return(0,n.patchFetch)({serverHooks:u,staticGenerationAsyncStorage:m})}},9460:(e,t,a)=>{a.d(t,{createTestResults:()=>c,t:()=>l});var o=a(629),r=a(5315),s=a.n(r);class n{constructor(){this.memoryCache=new Map,this.storageDir=s().join(process.cwd(),"temp","sessions")}async ensureStorageDir(){try{await (0,o.access)(this.storageDir)}catch{await (0,o.mkdir)(this.storageDir,{recursive:!0})}}getSessionFilePath(e){return s().join(this.storageDir,`${e}.json`)}async set(e,t){try{await this.ensureStorageDir(),this.memoryCache.set(e,t);let a=this.getSessionFilePath(e);await (0,o.writeFile)(a,JSON.stringify(t,null,2)),console.log(`Session ${e} stored successfully`)}catch(a){console.error(`Failed to store session ${e}:`,a),this.memoryCache.set(e,t)}}async get(e){try{if(this.memoryCache.has(e))return console.log(`Session ${e} found in memory cache`),this.memoryCache.get(e);let t=this.getSessionFilePath(e),a=await (0,o.readFile)(t,"utf-8"),r=JSON.parse(a);return this.memoryCache.set(e,r),console.log(`Session ${e} loaded from file system`),r}catch(t){console.log(`Session ${e} not found:`,t instanceof Error?t.message:"Unknown error");return}}async delete(e){try{this.memoryCache.delete(e);let t=this.getSessionFilePath(e),{unlink:o}=await Promise.resolve().then(a.t.bind(a,629,23));await o(t),console.log(`Session ${e} deleted successfully`)}catch(t){console.error(`Failed to delete session ${e}:`,t)}}keys(){return Array.from(this.memoryCache.keys())}async getAllKeys(){try{await this.ensureStorageDir();let{readdir:e}=await Promise.resolve().then(a.t.bind(a,629,23));return(await e(this.storageDir)).filter(e=>e.endsWith(".json")).map(e=>e.replace(".json",""))}catch(e){return console.error("Failed to get all session keys:",e),this.keys()}}}let i=new n,l={set:async(e,t)=>i.set(e,t),get:async e=>i.get(e),delete:async e=>i.delete(e),keys:()=>i.keys(),getAllKeys:async()=>i.getAllKeys()};function c(){let e="test-session-123",t=[];for(let e=1;e<=45;e++)t.push({email:`user${e}@company.com`,classification:"Top Utilizer",engagementScore:2.5+.5*Math.random(),consistencyPercent:75+25*Math.random(),complexityScore:8+4*Math.random(),avgToolsPerReport:3+2*Math.random(),trend:["Increasing","Stable"][Math.floor(2*Math.random())],appearances:8+Math.floor(4*Math.random()),firstAppearance:new Date(2024,Math.floor(6*Math.random()),1).toISOString(),lastActivity:new Date(2024,6,Math.floor(9*Math.random())+1).toISOString(),justification:"High Engagement",toolsUsed:["Copilot Chat","Code Completion","Documentation","Debug Assistant"],reportDates:Array.from({length:8+Math.floor(4*Math.random())},(e,t)=>new Date(2024,t,1).toISOString()),monthlyActivity:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map(e=>({month:e,toolsUsed:3+3*Math.random(),complexity:6+4*Math.random()})),riskLevel:"Low"});for(let e=1;e<=70;e++)t.push({email:`under${e}@company.com`,classification:"Under-Utilized",engagementScore:1+1*Math.random(),consistencyPercent:25+35*Math.random(),complexityScore:2+4*Math.random(),avgToolsPerReport:1+2*Math.random(),trend:["Decreasing","Stable"][Math.floor(2*Math.random())],appearances:2+Math.floor(4*Math.random()),firstAppearance:new Date(2024,Math.floor(6*Math.random()),1).toISOString(),lastActivity:new Date(2024,4,Math.floor(15*Math.random())+1).toISOString(),justification:"Low consistency (active in 3 of 12 months); Downward usage trend",toolsUsed:["Copilot Chat","Code Completion"],reportDates:Array.from({length:2+Math.floor(4*Math.random())},(e,t)=>new Date(2024,t,1).toISOString()),monthlyActivity:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map(e=>({month:e,toolsUsed:2*Math.random(),complexity:3*Math.random()})),riskLevel:"Medium"});for(let e=1;e<=35;e++)t.push({email:`realloc${e}@company.com`,classification:"For Reallocation",engagementScore:.8*Math.random(),consistencyPercent:25*Math.random(),complexityScore:2*Math.random(),avgToolsPerReport:1*Math.random(),trend:["Decreasing","N/A"][Math.floor(2*Math.random())],appearances:1+Math.floor(2*Math.random()),firstAppearance:new Date(2024,Math.floor(6*Math.random()),1).toISOString(),lastActivity:new Date(2024,1,Math.floor(15*Math.random())+1).toISOString(),justification:"No activity in 90+ days; No tool usage recorded",toolsUsed:[],reportDates:Array.from({length:1+Math.floor(2*Math.random())},(e,t)=>new Date(2024,t,1).toISOString()),monthlyActivity:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map(e=>({month:e,toolsUsed:0,complexity:0})),riskLevel:"High"});let a={status:"success",summary:{total_users:150,top_utilizers:45,under_utilized:70,for_reallocation:35},files:{excel:"/home/ubuntu/copilot_web_app/app/temp/d49ca207-77b4-40da-9b3c-4cbaaadf6183/output/09-July-2025_Copilot_License_Evaluation.xlsx",html:"/home/ubuntu/copilot_web_app/app/temp/d49ca207-77b4-40da-9b3c-4cbaaadf6183/output/leaderboard.html"},sessionId:e,tempDir:"/home/ubuntu/copilot_web_app/app/temp/d49ca207-77b4-40da-9b3c-4cbaaadf6183",filePaths:[],detailed_users:t};return i.set(e,a).catch(console.error),a}}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),o=t.X(0,[276,972],()=>a(8349));module.exports=o})();